{"version":3,"file":"bundle.js","mappings":";;;;;AAAA;AACA;AACA;AACA,SAAS,yFAAyF;AAClG,SAAS,0FAA0F;AACnG,SAAS,2FAA2F;AACpG,SAAS,iGAAiG;AAC1G,SAAS,8FAA8F;AACvG,SAAS,qFAAqF;AAC9F,SAAS,qFAAqF;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,UAAU,MAAM,SAAS;AAChE;AACA,8BAA8B,WAAW;AACzC;AACA;AACA;AACA;AACA;AACA,yDAAyD,WAAW;AACpE;AACA;AACA;AACA;AACA;AACA,wDAAwD,WAAW;AACnE;AACA;AACA;AACA;AACA;AACA,yDAAyD,WAAW;AACpE;AACA,0DAA0D,WAAW,gIAAgI,qCAAqC;AAC1O;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,iBAAiB;AACjB;AACA;AACA;AACA,0DAA0D;AAC1D,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB,cAAc;AACd;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uDAAuD;AACvD,iBAAiB;AACjB;AACA;AACA;AACA,0DAA0D;AAC1D,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,+DAA+D,UAAU;AACzE,4DAA4D,UAAU;AACtE,iEAAiE,eAAe;AAChF;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE,kEAAkE;AAClE,kBAAkB;AAClB;AACA;AACA,qEAAqE;AACrE,6DAA6D;AAC7D;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,8BAA8B,aAAa,YAAY,aAAa,OAAO,aAAa;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA,SAAS,wDAAwD;AACjE,SAAS,6DAA6D;AACtE,SAAS,wDAAwD;AACjE,SAAS,0DAA0D;AACnE,SAAS,wDAAwD;AACjE,SAAS,uDAAuD;AAChE,SAAS,uDAAuD;AAChE,SAAS,yEAAyE;AAClF,SAAS,yEAAyE;AAClF,SAAS,oEAAoE;AAC7E,SAAS,4EAA4E;AACrF,SAAS,4DAA4D;AACrE,SAAS,0EAA0E;AACnF,SAAS,8DAA8D;AACvE,SAAS,4DAA4D;AACrE,SAAS,yDAAyD;AAClE,SAAS,+DAA+D;AACxE,SAAS,4DAA4D;AACrE,SAAS,2EAA2E;AACpF,SAAS,kEAAkE;AAC3E,SAAS,iEAAiE;AAC1E;AACA;AACA;AACA,gBAAgB,wDAAwD;AACxE,kBAAkB,wDAAwD;AAC1E,iBAAiB,gDAAgD,GAAG,iDAAiD,GAAG,qDAAqD;AAC7K,gBAAgB,qDAAqD,GAAG,yDAAyD,GAAG,yDAAyD,GAAG,wDAAwD,GAAG,iEAAiE;AAC5T,iBAAiB,oDAAoD;AACrE,gBAAgB,2DAA2D,GAAG,qDAAqD,GAAG,iEAAiE;AACvM,gBAAgB,oDAAoD,GAAG,wDAAwD,GAAG,uEAAuE,GAAG,6DAA6D,GAAG,8DAA8D,GAAG,wDAAwD,GAAG,iEAAiE;AACzc,yBAAyB,8DAA8D,GAAG,2DAA2D;AACrJ,0BAA0B,wDAAwD,GAAG,mDAAmD,GAAG,yDAAyD,GAAG,wDAAwD,GAAG,iEAAiE;AACnU,oBAAoB,mEAAmE,GAAG,8DAA8D,GAAG,yDAAyD,GAAG,wDAAwD,GAAG,iEAAiE;AACnV,wBAAwB,sEAAsE,GAAG,2DAA2D,GAAG,+DAA+D,GAAG,wDAAwD,GAAG,iEAAiE;AAC7V,iBAAiB,2DAA2D,GAAG,yDAAyD,GAAG,sDAAsD,GAAG,6DAA6D;AACjQ,wBAAwB,uEAAuE,GAAG,yEAAyE,GAAG,oDAAoD,GAAG,2DAA2D,GAAG,kEAAkE,GAAG,4DAA4D,GAAG,iEAAiE;AACxe,mBAAmB,gEAAgE,GAAG,uDAAuD,GAAG,kEAAkE,GAAG,4DAA4D,GAAG,iEAAiE;AACrV,iBAAiB,4DAA4D;AAC7E,gBAAgB,oDAAoD;AACpE,mBAAmB,6DAA6D,GAAG,yDAAyD,GAAG,2DAA2D;AAC1M,kBAAkB,0DAA0D,GAAG,yEAAyE;AACxJ,0BAA0B,gEAAgE,GAAG,oEAAoE;AACjK,oBAAoB,yDAAyD,GAAG,+DAA+D;AAC/I,qBAAqB,qEAAqE,GAAG,+DAA+D,GAAG,uDAAuD,GAAG,qEAAqE;AAC9R;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,8CAA8C;AACvD,SAAS,8CAA8C;AACvD,SAAS,6CAA6C;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU,6BAA6B,WAAW;AACjF;AACA,mDAAmD,QAAQ,mBAAmB,QAAQ;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB,QAAQ,kCAAkC;AAC1F;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA,iEAAiE,GAAG;AACpE,iEAAiE,GAAG;AACpE;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,yBAAyB;AACxF,2DAA2D,sBAAsB,QAAQ;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW,sBAAsB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,IAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,iBAAiB;AACjB,cAAc;AACd;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,eAAe;AACrC,+BAA+B,aAAa;AAC5C,sBAAsB,cAAc;AACpC,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,WAAW,yBAAyB,WAAW;AACnG;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,CAAC,C","sources":["webpack:///./js/script.js"],"sourcesContent":["window.addEventListener('DOMContentLoaded', () => {\r\n\r\n    let inhabitantsDB = [\r\n        {img: \"images/inhabitants/iconBeggar.png\", alt: \"iconBeggar\", title: \"Beggar\", ratio: 500},\r\n        {img: \"images/inhabitants/iconPeasant.png\", alt: \"iconPeasant\", title: \"Peasant\", ratio: 8},\r\n        {img: \"images/inhabitants/iconCitizen.png\", alt: \"iconCitizen\", title: \"Citizen\", ratio: 15},\r\n        {img: \"images/inhabitants/iconPatrician.png\", alt: \"iconPatrician\", title: \"Patrician\", ratio: 25},\r\n        {img: \"images/inhabitants/iconNobleman.png\", alt: \"iconNobelman\", title: \"Nobelman\", ratio: 40},\r\n        {img: \"images/inhabitants/iconNomad.png\", alt: \"iconNomad\", title: \"Nomad\", ratio: 15},\r\n        {img: \"images/inhabitants/iconEnvoy.png\", alt: \"iconEnvoy\", title: \"Envoy\", ratio: 25},\r\n     ]\r\n\r\n    //inhabitants\r\n\r\n    const inhabitants = document.querySelector('.inhabitants');\r\n\r\n    class Inhabitant {\r\n        constructor(src, alt, title, parentSelector) {\r\n            this.src = src;\r\n            this.alt = alt;\r\n            this.title = title;\r\n            this.parentSelector = document.querySelector(parentSelector);\r\n        }\r\n\r\n        render() {\r\n            const ol = document.createElement('ol');\r\n            ol.innerHTML = `\r\n                <li>\r\n                    <ul>\r\n                        <li>\r\n                            <img src=${this.src} alt=${this.alt}>\r\n                        </li>\r\n                        <li>${this.title}</li>\r\n                    </ul>\r\n                </li>\r\n                <li>\r\n                    <ul>\r\n                        <li>\r\n                            <input type=\"radio\" name=\"c${this.title}Radio\" class=\"inhabitantsRadio\" value=\"inhabitants\" alt=\"\" checked=\"checked\">\r\n                        </li>\r\n                        <li>\r\n                            <img src=\"images/inhabitants/iconInhabitants.png\" alt=\"iconInhabitants\">\r\n                        </li>\r\n                        <li>\r\n                            <input type=\"text\" name=\"c${this.title}\" value=0 placeholder=0 class=\"cText cTextwidth saveinput inhabitantInput\" maxlength=\"6\" tabindex=\"1\" alt=\"\">\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n                <li>\r\n                    <ul>\r\n                        <li><input type=\"radio\" name=\"c${this.title}Radio\" class=\"houseRadio\" value=\"House\" alt=\"\"></li>\r\n                        <li><img src=\"images/inhabitants/iconHouse.png\" height=\"22\" width=\"22\" alt=\"\"></li>\r\n                        <li><input type=\"number\" name=\"c${this.title}House\" value=0 placeholder=0 class=\"cText cTextwidth saveinput houseInput\"  maxlength=\"6\" alt=\"\" style=\"color: rgb(10, 10, 10); background-color: rgb(241, 241, 241);\" disabled></li>\r\n                    </ul>\r\n                </li>\r\n            `;\r\n            this.parentSelector.append(ol)\r\n        }\r\n    }\r\n \r\n    inhabitantsDB.forEach(({img, alt, title}) => new Inhabitant(img, alt, title, '.inhabitants').render());\r\n\r\n    //main switcher\r\n\r\n    const mainSwitcher = inhabitants.querySelectorAll('[name=\"switchRadio\"]'),\r\n          allInhabitants = inhabitants.querySelectorAll('.inhabitantsRadio'),\r\n          allInhabitantsInputs = inhabitants.querySelectorAll('.inhabitantInput'),\r\n          allHouses = inhabitants.querySelectorAll('.houseRadio'),\r\n          allHousesInputs = inhabitants.querySelectorAll('.houseInput');\r\n\r\n    mainSwitcher.forEach(item => {\r\n        item.addEventListener('click', (e) => {\r\n            if  (e.target.value == \"inhabitants\") {\r\n\r\n                allInhabitants.forEach(item => {\r\n                    item.checked = true;\r\n                })\r\n                allInhabitantsInputs.forEach(item => {\r\n                    item.removeAttribute('disabled')\r\n                    item.style.cssText = 'color: #000; background-color: #FFFFFF';\r\n                })\r\n    \r\n                allHousesInputs.forEach(item => {\r\n                    item.setAttribute(\"disabled\", \"disabled\");\r\n                    item.style.cssText = 'color: #0A0A0A; background-color: #F1F1F1';\r\n                })\r\n                allHouses.forEach(item => {\r\n                    item.checked = false;\r\n                })\r\n            } else {\r\n\r\n                allHouses.forEach(item => {\r\n                    item.checked = true;\r\n                })\r\n                allHousesInputs.forEach(item => {\r\n                    item.removeAttribute('disabled')\r\n                    item.style.cssText = 'color: #000; background-color: #FFFFFF';\r\n                })\r\n    \r\n                allInhabitantsInputs.forEach(item => {\r\n                    item.setAttribute(\"disabled\", \"disabled\");\r\n                    item.style.cssText = 'color: #0A0A0A; background-color: #F1F1F1';\r\n                })\r\n                allInhabitants.forEach(item => {\r\n                    item.checked = false;\r\n                })\r\n            }\r\n        })\r\n    })\r\n\r\n    //individual switcher\r\n\r\n    function inputSettings(nameRadio, nameInhabitant, nameHouse, ratio) {\r\n        const cNameRadio = document.querySelectorAll(`[name=\"${nameRadio}\"]`),\r\n              cNameHouse = document.querySelector(`[name=\"${nameHouse}\"]`),\r\n              cNameInhabitant = document.querySelector(`[name=\"${nameInhabitant}\"]`);\r\n\r\n        cNameHouse.setAttribute(\"disabled\", \"disabled\");\r\n        cNameHouse.style.cssText = 'color: #0A0A0A; background-color: #F1F1F1';\r\n\r\n        cNameRadio.forEach(item => {\r\n            item.addEventListener('change', () => {\r\n                if (item.checked && item.value == 'inhabitants') {\r\n                    cNameHouse.setAttribute(\"disabled\", \"disabled\");\r\n                    cNameInhabitant.removeAttribute(\"disabled\");\r\n                    cNameHouse.style.cssText = 'color: #0A0A0A; background-color: #F1F1F1';\r\n                    cNameInhabitant.style.cssText = 'color: #000; background-color: #FFFFFF';\r\n                } else {\r\n                    cNameInhabitant.setAttribute('disabled', \"disabled\");\r\n                    cNameHouse.removeAttribute('disabled');\r\n                    cNameInhabitant.style.cssText = 'color: #0A0A0A; background-color: #F1F1F1';\r\n                    cNameHouse.style.cssText = 'color: #000; background-color: #FFFFFF';\r\n                }\r\n            })\r\n        })\r\n\r\n        cNameHouse.addEventListener('input', (e) => {\r\n            cNameInhabitant.value = e.target.value * ratio;\r\n        })\r\n\r\n        cNameInhabitant.addEventListener('input', (e) => {\r\n            cNameHouse.value = Math.ceil(e.target.value / ratio);\r\n        })\r\n    }\r\n\r\n    function inputSettingsAll() {\r\n        for (let key of inhabitantsDB) {\r\n            inputSettings(`c${key[\"title\"]}Radio`, `c${key[\"title\"]}`, `c${key[\"title\"]}House`, key['ratio'])\r\n        }\r\n    }\r\n    \r\n    inputSettingsAll();\r\n\r\n    // top buttons\r\n\r\n    const topButtons = document.querySelectorAll('.top-buttons_item'),\r\n          topButtonsParent = document.querySelector('.top-buttons');\r\n\r\n    function removeActiveButton() {\r\n        topButtons.forEach(item => {\r\n            item.removeAttribute('style');\r\n            item.classList.remove('fade');\r\n        })\r\n    }\r\n\r\n    function setActiveButton(i = 0) {\r\n        topButtons[i].style.backgroundColor = '#373028';\r\n        topButtons[i].style.border = '2px solid #cecece;';\r\n        topButtons[i].style.color = '#D0BAA3';\r\n        topButtons[i].classList.add('fade')\r\n    }\r\n   \r\n    removeActiveButton()\r\n    setActiveButton()\r\n\r\n    topButtonsParent.addEventListener('click', (event) => {\r\n        const target = event.target;\r\n        if(target) {\r\n            topButtons.forEach((btn, i) => {\r\n                if(target == btn) {\r\n                    removeActiveButton();\r\n                    setActiveButton(i);\r\n                }\r\n            })\r\n        }\r\n    })\r\n\r\n    let goodsDB = [\r\n        {title: \"fish\", img: \"images/goods/iconFisch.png\", id: 1},\r\n        {title: \"spices\", img: \"images/goods/iconGewuerze.png\", id: 2},\r\n        {title: \"bread\", img: \"images/goods/iconBrot.png\", id: 3},\r\n        {title: \"meat\", img: \"images/goods/iconFleisch.png\", id: 4},\r\n        {title: \"cider\", img: \"images/goods/iconMost.png\", id: 5},\r\n        {title: \"beer\", img: \"images/goods/iconBier.png\", id: 6},\r\n        {title: \"wine\", img: \"images/goods/iconWein.png\", id: 7},\r\n        {title: \"linen_garments\", img: \"images/goods/iconLeinenkutten.png\", id: 8},\r\n        {title: \"leather_jerkins\", img: \"images/goods/iconLederwaemse.png\", id: 9},\r\n        {title: \"fur_coats\", img: \"images/goods/iconPelzmaentel.png\", id: 10},\r\n        {title: \"brocade robes\", img: \"images/goods/iconBrokatgewaender.png\", id: 11},\r\n        {title: \"books\", img: \"images/goods/iconBuecher.png\", id: 12},\r\n        {title: \"candlesticks\", img: \"images/goods/iconKerzenleuchter.png\", id: 13},\r\n        {title: \"glasses\", img: \"images/goods/iconBrillen.png\", id: 14},\r\n        {title: \"dates\", img: \"images/goods/iconDatteln.png\", id: 15},\r\n        {title: \"milk\", img: \"images/goods/iconMilch.png\", id: 16},\r\n        {title: \"carpets\", img: \"images/goods/iconTeppiche.png\", id: 17},\r\n        {title: \"coffee\", img: \"images/goods/iconKaffee.png\", id: 18},\r\n        {title: \"pearl necklaces\", img: \"images/goods/iconPerlenketten.png\", id: 19},\r\n        {title: \"parfumes\", img: \"images/goods/iconDuftwasser.png\", id: 20},\r\n        {title: \"marzipans\", img: \"images/goods/iconMarzipan.png\", id: 21},\r\n    ];\r\n\r\n    let chains = {\r\n        fish: [{\"Fishing lodge\": 100, img: \"images/goods/iconFisch.png\"}],\r\n        spices: [{\"Spice farm\": 100, img: \"images/goods/iconGewuerze.png\"}],\r\n        bread: [{\"Bakery\": 100, img: \"images/goods/iconBrot.png\"}, {\"Mill\": 100, img: \"images/fabrics/iconFloor.png\"}, {\"Crop farm\": 200, img: \"images/fabrics/iconCrop.png\"}],\r\n        meat: [{\"Butchery\": 100, img: \"images/goods/iconFleisch.png\"}, {\"Cattle farm\": 200, img: \"images/fabrics/iconCattle.png\"}, {\"Saltworks\": 48, img: \"images/fabrics/iconSaltworks.png\"}, {\"Salt mine\": 48, img: \"images/fabrics/iconSaltmine.png\"}, {\"Charcoal Burner's Hut\": 50, img: \"images/fabrics/iconCoal1.png\"}],\r\n        cider: [{\"Cider farm\": 100, img: \"images/goods/iconMost.png\"}],\r\n        beer: [{\"Monastery brewery\": 100, img: \"images/goods/iconBier.png\"}, {\"Crop farm\": 100, img: \"images/fabrics/iconCrop.png\"}, {\"Monastery garden\": 100, img: \"images/fabrics/iconMonastery.png\"}],\r\n        wine: [{\"Wine press\": 100, img: \"images/goods/iconWein.png\"}, {\"Vineyard\": 300, img: \"images/fabrics/iconVineyard.png\"}, {\"Barrel Cooperage\": 100, img: \"images/fabrics/iconBarellCooperage.png\"}, {\"Lumberjacks's hut\": 100, img: \"images/fabrics/iconWood.png\"}, {\"Iron Smelter\": 50, img: \"images/fabrics/iconIronSmelter.png\"}, {\"Iron Mine\": 50, img: \"images/fabrics/iconIronMine.png\"}, {\"Charcoal Burner's Hut\": 50, img: \"images/fabrics/iconCoal1.png\"}],\r\n        linenGarments: [{\"Weaver's hut\": 100, img: \"images/goods/iconLeinenkutten.png\"}, {\"Hemp plantation\": 200, img: \"images/fabrics/iconHemp.png\"}],\r\n        leatherJerkins: [{\"Tannery\": 100, img: \"images/goods/iconLederwaemse.png\"}, {\"Pig farm\": 100, img: \"images/fabrics/iconPig.png\"}, {\"Saltworks\": 50, img: \"images/fabrics/iconSaltworks.png\"}, {\"Salt mine\": 50, img: \"images/fabrics/iconSaltmine.png\"}, {\"Charcoal Burner's Hut\": 50, img: \"images/fabrics/iconCoal1.png\"}],\r\n        furCoats: [{\"Furrier's Workshop\": 100, img: \"images/goods/iconPelzmaentel.png\"}, {\"Trapper's lodge\": 100, img: \"images/fabrics/iconTrapper.png\"}, {\"Saltworks\": 32, img: \"images/fabrics/iconSaltworks.png\"}, {\"Salt mine\": 32, img: \"images/fabrics/iconSaltmine.png\"}, {\"Charcoal Burner's Hut\": 32, img: \"images/fabrics/iconCoal1.png\"}],\r\n        brocadeRobes: [{\"Silk Weaving Mill\": 100, img: \"images/goods/iconBrokatgewaender.png\"}, {\"Silk Plantation\": 200, img: \"images/fabrics/iconSilk.png\"}, {\"Gold Smelter\": 100, img: \"images/fabrics/iconGoldSmelter.png\"}, {\"Goldmine\": 100, img: \"images/fabrics/iconGoldMine.png\"}, {\"Charcoal Burner's Hut\": 75, img: \"images/fabrics/iconCoal1.png\"}],\r\n        books: [{\"Printing House\": 100, img: \"images/goods/iconBuecher.png\"}, {\"Indigo farm\": 200, img: \"images/fabrics/iconIndigo.png\"}, {\"Paper Mill\": 50, img: \"images/fabrics/iconPaper.png\"}, {\"Lumberjacks's hut\": 100, img: \"images/fabrics/iconWood.png\"}],\r\n        candlesticks: [{\"Redsmith's Workshop\": 100, img: \"images/goods/iconKerzenleuchter.png\"}, {\"Candlemaker's Workshop\": 150, img: \"images/fabrics/iconCandlemaker.png\"}, {\"Apiary\": 300, img: \"images/fabrics/iconApiary.png\"}, {\"Hemp plantation\": 150, img: \"images/fabrics/iconHemp.png\"}, {\"Copper Smelter\": 75, img: \"images/fabrics/iconCopperSmelter.png\"}, {\"Copper Mine\": 75, img: \"images/fabrics/iconCopperMine.png\"}, {\"Charcoal Burner's Hut\": 50, img: \"images/fabrics/iconCoal1.png\"}],\r\n        glasses: [{\"Optician's Workshop\": 100, img: \"images/goods/iconBrillen.png\"}, {\"Quarz Quary\": 75, img: \"images/fabrics/iconQuarz.png\"}, {\"Copper Smelter\": 75, img: \"images/fabrics/iconCopperSmelter.png\"}, {\"Copper Mine\": 75, img: \"images/fabrics/iconCopperMine.png\"}, {\"Charcoal Burner's Hut\": 50, img: \"images/fabrics/iconCoal1.png\"}],\r\n        dates: [{\"Date plantation\": 100, img: \"images/goods/iconDatteln.png\"}],\r\n        milk: [{\"Goat farm\": 100, img: \"images/goods/iconMilch.png\"}],\r\n        carpets: [{\"Carpet workshop\": 100, img: \"images/goods/iconTeppiche.png\"}, {\"Indigo farm\": 100, img: \"images/fabrics/iconIndigo.png\"}, {\"Silk plantation\": 100, img: \"images/fabrics/iconSilk.png\"}],\r\n        coffee: [{\"Roasting house\": 100, img: \"images/goods/iconKaffee.png\"}, {\"Coffee plantation\": 100, img: \"images/fabrics/iconCoffeePlantation.png\"}],\r\n        pearlNecklaces: [{\"Pearl Workshop\": 100, img: \"images/goods/iconPerlenketten.png\"}, {\"Pearl Fisher's Hut\": 100, img: \"images/fabrics/iconPerlFisher.png\"}],\r\n        parfumes: [{\"Perfumery\": 100, img: \"images/goods/iconDuftwasser.png\"}, {\"Rose Nursery\": 300, img: \"images/fabrics/iconRoseNursery.png\"}],\r\n        marzipans: [{\"Confectioner's Workshop\": 100, img: \"images/goods/iconMarzipan.png\"}, {\"Almond plantation\": 200, img: \"images/fabrics/iconAlmond.png\"}, {\"Sugar mill\": 100, img: \"images/fabrics/iconSugar.png\"}, {\"Sugarcane Plantation\": 200, img: \"images/fabrics/iconSugarcane.png\"}]\r\n    }\r\n\r\n    /*  Retrieving data...\r\n\r\n        condition: title\r\n            pos = 0 for titles  \r\n        \r\n        condition: value\r\n            pos = 0 for denominators\r\n            pos = 1 for images paths\r\n\r\n    */\r\n\r\n    function retrieveData(chains, condition, pos) {\r\n        let result = [];\r\n        let arr = Object.values(chains)\r\n\r\n        if (condition === 'title') {\r\n\r\n            for (let elem of arr) {\r\n                let items = [];\r\n                for (let item of elem) {\r\n                    items.push(Object.keys(item));\r\n                }\r\n        \r\n                let cell = []\r\n                for (let item of items ) {\r\n                   cell.push(item[pos]);\r\n                };\r\n                result.push(cell);\r\n            };\r\n\r\n        } else if (condition === 'value') {\r\n\r\n            for (let elem of arr) {\r\n                let items = [];\r\n                for (let item of elem) {\r\n                    items.push(Object.values(item));\r\n                }\r\n        \r\n                let cell = []\r\n                for (let item of items ) {\r\n                   cell.push(item[pos]);\r\n                };\r\n                result.push(cell);\r\n            };\r\n        }\r\n\r\n        return result; \r\n    }\r\n    \r\n    let data = [\r\n        {titles: [...retrieveData(chains, 'title', 0)]},\r\n        {ratios: [...retrieveData(chains, 'value', 0)]},\r\n        {paths: [...retrieveData(chains, 'value', 1)]},\r\n    ]\r\n\r\n    \r\n    \r\n    //select dropdowns\r\n\r\n    class GoodsSelection {\r\n        constructor(title, img, id, parentSelector) {\r\n            this.title = title;\r\n            this.img = img;\r\n            this.id = id;\r\n            this.parentSelector = document.querySelector(parentSelector);\r\n        };\r\n\r\n        render() {\r\n            const ol = document.createElement('ol');\r\n            ol.innerHTML = `\r\n                <li><img src=${this.img} height=\"32\" width=\"32\" alt=${this.title}></li>\r\n                    <li>\r\n                        <select name=\"itemselect_${this.id}\" id=\"itemselect_${this.id}\" class=\"itemselect saveinput\">\r\n                            <option value=\"0\">0</option>\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                        </select>\r\n                    </li>\r\n                <li>&#43;<span id=\"itemresult_${this.id}\" class=\"itemresult\">0</span>&#37;</li>\r\n            `\r\n            this.parentSelector.append(ol);\r\n        }\r\n    }\r\n\r\n    goodsDB.forEach(({title, img, id}) => new GoodsSelection(title, img, id, '.items').render())\r\n\r\n    function goodsDropdownSelection(id) {\r\n\r\n        const itemResult = document.getElementById(`itemresult_${id}`),\r\n              itemSelect = document.getElementById(`itemselect_${id}`);\r\n\r\n        itemSelect.addEventListener('click', () => {\r\n            itemResult.textContent = itemSelect.value * 25;\r\n        })\r\n    }\r\n\r\n    function adjustAllItemSelections() {\r\n        for (let item of goodsDB) {\r\n            goodsDropdownSelection(item[\"id\"])\r\n        }\r\n    }\r\n\r\n    adjustAllItemSelections()\r\n\r\n    //table\r\n\r\n    const tableBottom = document.querySelector('tbody');\r\n    const tableHead = document.createElement('tr');\r\n    tableHead.classList.add('title_table');\r\n\r\n    tableHead.innerHTML = `\r\n                 <th></th>\r\n                <td colspan=\"14\" style=\"background-color:#cdedbf;\">Required in the Occident</td>\r\n                <td colspan=\"7\" style=\"background-color:#fff2ad;\">Required in the Orient</td>\r\n        `\r\n    \r\n    tableBottom.prepend(tableHead);\r\n\r\n    class TableCells {\r\n\r\n        lupe = \"images/iconLupe.png\";\r\n\r\n        constructor(img, parentSelector) {\r\n            this.img = img;\r\n            this.parentSelector = document.querySelector(parentSelector);\r\n        }\r\n\r\n        renderImages() {\r\n            const td = document.createElement('td');\r\n\r\n            td.innerHTML = `\r\n                <img src=${this.img} height=\"46\" width=\"46\" alt=\"\">\r\n            `\r\n            this.parentSelector.append(td)\r\n        };\r\n\r\n        renderAmount() {\r\n            const td = document.createElement('td');\r\n            td.innerHTML = `\r\n                <span class=\"saveresult\">0</span>\r\n            `\r\n            this.parentSelector.append(td)\r\n        };\r\n\r\n        renderUtilization() {\r\n            const td = document.createElement('td');\r\n            td.innerHTML = `\r\n                <span>-</span>\r\n                <div class=\"colored-space\" style=\"height:50px; background-color:#88ff6d;\">\r\n                    <div class=\"space\" style=\"height:50px; background-color:#fff;\">&nbsp;</div>\r\n                </div>\r\n            `\r\n            this.parentSelector.append(td);\r\n        }\r\n\r\n        renderChains() {\r\n            const td = document.createElement('td');\r\n            td.innerHTML = `\r\n                <td>\r\n                    <img src=${this.lupe} style=\"display: none; cursor: pointer\">\r\n                </td>\r\n            `\r\n            this.parentSelector.append(td)\r\n        }\r\n\r\n        renderDiff() {\r\n            const td = document.createElement('td');\r\n            td.textContent = `\r\n                <span>-</span>\r\n            `;\r\n\r\n            this.parentSelector.append(td);\r\n        }\r\n    }\r\n    \r\n    goodsDB.forEach(({img}) => new TableCells(img, '.itemsRow').renderImages());\r\n    goodsDB.forEach(() => new TableCells(null, '.amount').renderAmount());\r\n    goodsDB.forEach(() => new TableCells(null, '.utilization').renderUtilization());\r\n    goodsDB.forEach(() => new TableCells(null, '#production_chains').renderChains());\r\n    goodsDB.forEach(() => new TableCells(null, '#diffFrame').renderDiff())\r\n\r\n    // calc itself\r\n\r\n    // const inhabitantsRadio = document.querySelectorAll('.inhabitantInput');\r\n    const amountEach = document.querySelectorAll('.amount td');\r\n    const calcButton = document.querySelector('.button_2__calculate');\r\n\r\n    function calc() {\r\n\r\n        resetTable();\r\n\r\n        let product = [];\r\n       \r\n        allInhabitantsInputs.forEach(item => product.push(item.value));\r\n\r\n        if(!(product.every(i => +i > 0))) {\r\n            tableBottom.classList.contains('fade') ? tableBottom.classList.remove('fade') : tableBottom.classList.add('fade');\r\n        } else {\r\n            tableBottom.classList.add('fade');\r\n        }\r\n\r\n        let fish = (product[0] / 285) + (product[1] / 200) + (product[2] / 500) + (product[3] / 909) + (product[4] / 1250),\r\n            spices = (product[2] / 500) + (product[3] / 909) + (product[4] / 1250),\r\n            bread = (product[3] / 727) + (product[4] / 1025),\r\n            meat = (product[4] / 1136),\r\n            cider = (product[0] / 500) + (product[1]>=60 || (product[2] || product[3] || product[4]) ? (product[1] / 340  + (product[2] / 340) + (product[3] / 652) + (product[4] / 1153)) : (product[1] / 500)),\r\n            beer = product[3]>=510 || product[4] ? ((product[3] / 625) + (product[4] / 1071)) : (product[3] / 625),\r\n            wine = product[4]>=1500 ? (product[4] / 1000) : 0,\r\n            linenGarments = (product[2] / 476) + (product[3] / 1052) + (product[4] / 2500),\r\n            leatherJerkins = product[3]>=690 || product[4] ? ((product[3] / 1428) + (product[4] / 2500)) : product[3] / 690,\r\n            furCoats = product[4]>=950 ? (product[4] / 1562) : 0,\r\n            brocadeRobes = product[4] ? (product[4] / 2112) : 0,\r\n            books = product[3]>=940 || product[4] ? (product[3] / 1875) + (product[4] / 3333) : product[3] / 1875,\r\n            candlesticks = product[4] >= 3000 ? ((product[3] / 2500) + (product[4] / 3333)) : (product[4] / 3333),\r\n            glasses = product[4]>=1709 ? (product[4] / 1709) : 0,\r\n            dates = (product[5] / 450) + (product[6] / 600),\r\n            milk = product[5]>=145 || product[6] ? (product[5] / 436) + (product[6] / 666) : product[5] / 436,\r\n            carpets = product[5]>=295 ? (product[5] / 909) + (product[6] / 1500) : product[5] / 295,\r\n            coffee = (product[6] / 1000),\r\n            pearlNecklaces = product[6] >= 1040 ? (product[6] / 751) : 0,\r\n            parfumes = product[6] >= 2600 ? (product[6] / 1250) : 0,\r\n            marzipans = product[6] >= 4360 ? (product[6] / 2453) : 0;\r\n\r\n        let allProducts = [fish, spices, bread, meat, cider, beer, wine, linenGarments, leatherJerkins, furCoats, brocadeRobes,\r\n            books, candlesticks, glasses, dates, milk, carpets, coffee, pearlNecklaces, parfumes, marzipans]\r\n\r\n        let allCeiledProducts = allProducts.map(item => Math.ceil(item));\r\n\r\n        amountEach.forEach((item, i) => item.textContent = allCeiledProducts[i])\r\n\r\n        utilization(allProducts, allCeiledProducts, utilizations);\r\n        showLupe(amountEach)\r\n    };\r\n\r\n    calcButton.addEventListener('click', calc);\r\n    \r\n    // utilization calc\r\n\r\n    const utilizations = document.querySelectorAll('.utilization td');\r\n\r\n    function utilization(allProducts, allCeiledProducts, utilizations) {\r\n\r\n        utilizations.forEach((item, i) => {\r\n            let dashItem = item.querySelector('span'),\r\n                whiteSpace = item.querySelector('.space'),\r\n                coloredSpace = item.querySelector('.colored-space');\r\n\r\n            let denominator = allProducts[i] / allCeiledProducts[i];\r\n\r\n            whiteSpace.style.height = 50 - (50 * denominator) + 'px';\r\n\r\n                if (denominator > 0.60 && denominator < 0.94) {\r\n                    coloredSpace.style.backgroundColor = '#f7ffa2'\r\n                } else if (denominator >= 0.94) {\r\n                    coloredSpace.style.backgroundColor = '#ff5353'\r\n                } else if (denominator > 0 && denominator <= 0.60) {\r\n                    coloredSpace.style.backgroundColor = '#88ff6d'\r\n                } else {\r\n                    coloredSpace.style.backgroundColor = '#ffffff';\r\n                }\r\n\r\n            dashItem.textContent = denominator ? (Math.round(denominator * 100) + '%') : '-';\r\n        })\r\n    }\r\n\r\n    //production chains\r\n\r\n    const pChains = document.querySelectorAll('#production_chains td');\r\n\r\n    function showLupe(amount) {\r\n        pChains.forEach((item, i) => {\r\n            if (+amount[i].textContent > 0) {\r\n\r\n                let multiplier = amount[i].textContent;\r\n\r\n                item.querySelector('img').style.display = 'block';\r\n                item.querySelector('img').addEventListener('click', (e) => {\r\n\r\n                    if (e.target == item.querySelector('img') && document.querySelector('.pcFrame').style.display == 'none') {\r\n                        document.querySelector('.pcFrame').style.display = 'block';\r\n\r\n                        mountSingleChain(data, i, multiplier);\r\n\r\n                    } else {\r\n                        document.querySelector('.pcFrame').style.display = 'none';\r\n                        document.querySelector('.single-chain').remove();\r\n                    }\r\n                })\r\n            } else {\r\n                item.querySelector('img').style.display = 'none';\r\n            }\r\n        })\r\n    }\r\n\r\n    // close button\r\n\r\n    document.querySelector('.pcFrame button').addEventListener('click', () => {\r\n\r\n        document.querySelector('.pcFrame').style.display = 'none';\r\n        document.querySelector('.single-chain').remove();\r\n    })\r\n\r\n    function mountSingleChain(data, id, multiplier) {\r\n        let titles = data[0][\"titles\"],\r\n            ratios = data[1][\"ratios\"],\r\n            paths = data[2][\"paths\"];\r\n\r\n        let chains = document.querySelector('.pcDisplay');\r\n            singleChain = document.createElement('div');\r\n\r\n        singleChain.classList.add('single-chain');\r\n        \r\n        chains.append(singleChain)\r\n\r\n        for (let i = 0; i < titles[id].length; i++) {\r\n            let div = document.createElement('ol'),\r\n                plus = document.createElement('div');\r\n\r\n            plus.textContent = '+';\r\n            plus.style.width = '25px';\r\n            plus.style.display = 'inline-block'\r\n\r\n            let numberOfPlants = Math.ceil(multiplier * ratios[id][i] / 100),\r\n                percentageValue = (multiplier * ratios[id][i] / numberOfPlants).toFixed(1);\r\n\r\n            div.innerHTML = `\r\n                <li>${numberOfPlants}x</li>\r\n                <li><img src=${paths[id][i]}></li>\r\n                <li>${titles[id][i]}</li>\r\n                <li>(${percentageValue}%)</li>\r\n            `\r\n            singleChain.append(div);\r\n\r\n            titles[id][i + 1] ? div.insertAdjacentElement('afterend', plus) : null;\r\n        }\r\n    \r\n    }\r\n\r\n    // memorize\r\n\r\n    const memorizeButton = document.querySelector('.memorize');\r\n\r\n    function memorizeAmount() {\r\n        localStorage.clear();\r\n\r\n        amountEach.forEach((item, i) => {\r\n            localStorage.setItem(i, item.textContent)\r\n        })\r\n    }\r\n\r\n    memorizeButton.addEventListener('click', memorizeAmount)\r\n\r\n    // compare\r\n\r\n    const compareButton = document.querySelector('.compare'),\r\n          diffFrame = document.querySelector('#diffFrame'),\r\n          diffTable = document.querySelectorAll('#diffFrame td');\r\n\r\n    function compareAmount() {\r\n        diffFrame.style.display = 'table-row';\r\n\r\n        diffTable.forEach((item, i) => {\r\n            let difference =  amountEach[i].textContent - localStorage.getItem(i);\r\n\r\n            item.textContent = difference > 0 ? `+${difference}` : difference < 0 ? `-${difference}` : 0;\r\n\r\n        })\r\n\r\n        localStorage.clear();\r\n    }\r\n\r\n    compareButton.addEventListener('click', compareAmount);\r\n\r\n    // reset \r\n\r\n    const resetButton = document.querySelector('.button_2__reset');\r\n\r\n    function resetTable() {\r\n        amountEach.forEach(item => {\r\n            item.textContent = 0\r\n        });\r\n\r\n        pChains.forEach(item => {\r\n            item.querySelector('img').style.display = 'none';\r\n        })\r\n\r\n        utilizations.forEach(item => {\r\n            let dashItem = item.querySelector('span'),\r\n                whiteSpace = item.querySelector('.space');\r\n\r\n                dashItem.textContent = '-';\r\n                whiteSpace.style.height = '50px';\r\n            })\r\n    }\r\n\r\n    resetButton.addEventListener('click', resetTable)\r\n    \r\n})"],"names":[],"sourceRoot":""}